<html>
	<head>
		<title>PHP form ajax</title>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	</head>
	<body>
		<div id="message"></div>
		<form action="" method="post">
			<div style="margin: 10px;"> Name: <input type="text" name="name" value="" /></div>
			<div style="margin: 10px;"> password: <input type="pasword" name="pas" value="" /></div>
			<div style="margin: 10px;"> Phone: <input type="text" name="teltel" value="" /></div>
			<div style="margin: 10px;"> Email: <input type="text" name="mail" value="" /></div>
			<div style="margin: 10px;"><input type="button" onclick="submitForm();" name="save_contact" value="Save" /></div>
		</form>
	</body>
	<script type="text/javascript">
		function submitForm()
		{
			var name = $('input[name=name]').val();
			var pas = $('input[name=pas]').val();
			var teltel = $('input[name=teltel]').val();
			var mail = $('input[name=mail]').val();

			if(name != '' && teltel!= '' && pas!= '' && mail != '')
			{
				var formData = {name: name, pas: pas, teltel: teltel, mail: mail};
				$('#message').html('<span style="color: red">Processing form. . . please wait. . .</span>');
				$.ajax({url: "http://localhost/0.8/ajaxform/api/submit.php", type: 'POST', data: formData, success: function(response)
				{
					var res = JSON.parse(response);
					console.log(res);
					if(res.success == true)
						$('#message').html('<span style="color: green">Form submitted successfully</span>');
					else
						$('#message').html('<span style="color: red">Form not submitted. Some error in running the database query.</span>');
				}
				});
			}
			else
			{
				$('#message').html('<span style="color: red">Please fill all the fields</span>');
			}
			
			
		} 
	</script>
</html>